"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3004],{85716:function(e,l,t){var i=t(5152),s=t.n(i);l.Z=s()(()=>t.e(7657).then(t.bind(t,47657)),{loadableGenerated:{webpack:()=>[47657]}}),s()(()=>t.e(7657).then(t.bind(t,47657)).then(e=>e.StyledNoResults),{loadableGenerated:{webpack:()=>[47657]}})},33004:function(e,l,t){t.r(l),t.d(l,{default:function(){return es}});var i=t(85893),s=t(38972),n=t(93967),o=t.n(n),a=t(67294),r=t(60441),d=t(86800),c=t(16863),u=t(26315),h=t(56433),g=t(92971),v=t(77522),p=t(16980),m=t(75459),y=t(49053),f=t(50564),x=t(85716),_=t(48082),Z=t(32954),b=t(28477),j=t(31401),S=t(4061),w=t(31024),M=t(45697),k=t.n(M),C=t(88095),N=t(41145),E=t(50223),A=t(49092),O=t(81299);let T=(0,C.ZP)(E.Z).attrs({as:"a",$family:"medium",$fontSize:"14px"}).withConfig({componentId:"sc-f722b67c-0"})(["cursor:pointer;margin-top:8px;"]),I=C.ZP.div.withConfig({componentId:"sc-f722b67c-1"})(["display:flex;margin-top:40px;margin-bottom:12px;max-width:100%;width:100%;.image-wrapper{height:80px;background:",";margin-right:16px;img{max-width:100%;}}","{display:flex;flex-direction:column;align-self:center;font-size:18px;","{font-size:17px;}","{font-size:16px;}}","{margin-top:12px;align-self:flex-start;font-size:14px;}"],(0,N.rS)("palette.imageTeaser.placeholder"),E.Z,A.PJ,A.Mq,T),G=e=>{let{imageSrc:l,imageAlt:t,width:s,...n}=e;return(0,i.jsxs)(I,{...n,children:[(0,i.jsx)("div",{className:"image-wrapper",children:l&&(0,i.jsx)("img",{alt:t,src:l,height:"80",width:s})}),(0,i.jsxs)(E.Z,{$family:"base",children:[(0,i.jsx)(O.cC,{i18nKey:"similarimage-001",children:"Similar images"}),(0,i.jsx)(T,{onClick:e=>{e.preventDefault(),window.history.back()},children:(0,i.jsx)(O.cC,{i18nKey:"similarimage-002",children:"Back"})})]})]})};G.propTypes={imageAlt:k().string.isRequired,imageSrc:k().string.isRequired};var R=t(71057),F=t(2408),z=t(30349),P=t(8394),B=t(27810),$=t(60704),K=t(21928),q=t(69211),D=t(83047),W=t(94621),L=t(12397),U=t(869),Y=t(9884),Q=t(2711),V=t(54857),H=t(98719),J=t(41501),X=t(8468),ee=t(93972),el=t(31841),et=t(63799);let ei=e=>{let{storyId:l,isStoryMode:t}=e;return(0,i.jsxs)("div",{className:o()("storyboard-links",{"story-mode":t}),children:[(0,i.jsx)(y.Z,{className:o()({selected:!t}),extra:"".concat(D.Z.COMMON.SORT,"=curated&").concat(D.Z.COMMON.PAGE,"=1&mode=shop"),children:(0,i.jsx)(O.cC,{i18nKey:"searchpagecontent-001",children:"All"})}),(0,i.jsx)(y.Z,{className:o()({selected:t}),extra:"mode=story&".concat(D.Z.WEB.STORY,"=").concat(l,"&").concat(D.Z.COMMON.SORT,"=curated&").concat(D.Z.COMMON.PAGE,"=1"),children:(0,i.jsx)(O.cC,{i18nKey:"searchpagecontent-002",children:"Storyboard"})})]})};var es=e=>{var l,t,n,o,M,k,C,N,A,O,T,I,es,en;let{user:eo,userIsFetched:ea,darkTheme:er,searchQueries:ed,searchTerm:ec,topicEntity:eu,topicEntityIsFetched:eh,topicEntityIsLoading:eg,feed:ev,isStoryMode:ep,hasSimilarImage:em,similarImageQuery:ey,seoLoaded:ef,blurb:ex,blurbTitlePart:e_,setShowSearchDrawer:eZ,showSearchDrawer:eb,setMobileFiltering:ej,setMobileFilterCount:eS,hasMobileLinks:ew,isBoostPage:eM,handleBoostSearch:ek,sidebarState:eC,searchTermIsSpam:eN=!1,showcasedImages:eE,showcasedImagesLoading:eA=!1,isDesktop:eO,hasHydrated:eT}=e,{queries:eI}=(0,J.Z)(),{showRawpixelTeam:eG}=(0,el.ZP)(),eR=(0,Y.I8)(),eF=(0,V.EC)(),[ez,eP]=(0,a.useState)(!0),{data:eB,isSuccess:e$}=ev,eK=ev.isPending||eA;(0,a.useEffect)(()=>{!eK&&eo&&eF.isReady&&eP(!1)},[eK,eo,eF.isReady]);let{data:eq,isSuccess:eD}=(0,Q.r)(parseInt(ed[D.Z.WEB.STORY],10),ep),eW=(null===(t=ey.data)||void 0===t?void 0:null===(l=t.results)||void 0===l?void 0:l.length)&&(null===(n=ey.data.results[0])||void 0===n?void 0:n.id)?null===(o=ey.data)||void 0===o?void 0:o.results[0]:null,eL=em&&(null==eW?void 0:eW.metadata)?null==eW?void 0:eW.metadata.description:"",eU=em&&eW?Math.round((null==eW?void 0:eW.display_image_width)/(null==eW?void 0:eW.display_image_height)*80):0,eY=em&&eW?eU>400?(0,L._N)(eW,500):eU>300?(0,L._N)(eW,400):eU>200?(0,L._N)(eW,300):(0,L._N)(eW,200):void 0,{results:eQ,total:eV,rpa:eH,pinterest_totals:eJ}=eB||{},{page:eX,totalPages:e0,pageSize:e1}=(0,a.useMemo)(()=>(0,X.zo)(ed,eB),[eB,ed]),e7=(null==eJ?void 0:eJ.user_remaining)||0,e4=(null==eB?void 0:eB.spellcheck_result)&&!!(null==eB?void 0:null===(M=eB.spellcheck_result)||void 0===M?void 0:M.suggested_key),e8=!!eu&&(0,ee.u)(eu),[e2,e9]=(0,a.useState)(!1),[e6,e3]=(0,a.useState)(!0),e5=(0,a.useCallback)(e=>{!0===e||!1===e?e9(e):e9(e=>!e)},[]),le=a.useMemo(()=>{let{isActiveEntityFetching:e}=eC;return!e},[eC]),ll=eO||!eT;(0,a.useEffect)(()=>{(0,b.Q5)()},[e2,ll]),(0,a.useEffect)(()=>{eT&&e6&&ea&&e3(!1)},[eI.topic_group,eI.topic,e6,eT,eu,ea]);let lt=e$||eD,li=(0,a.useMemo)(()=>{var e;return eT&&((null==ec?void 0:ec.length)||(null==eH?void 0:null===(e=eH.image)||void 0===e?void 0:e.length))?(0,W.x)(JSON.stringify({keys:ec||"",sortedKeys:(null==eH?void 0:eH.image)||""})):null},[ec,null==eH?void 0:eH.image,eT]),ls=ef&&!eu&&!em,ln=(0,a.useCallback)(()=>eZ(!1),[eZ]),{pathQuery:lo}=eC||{},la=(0,a.useMemo)(()=>{var e,l;return(null===(e=((null==lo?void 0:null===(l=lo.getFilters)||void 0===l?void 0:l.call(lo,"tag","tags_or","color","theme","hearted"))||[]).filter(e=>!("tag"===e.type&&"$mobilewallpapers"===e.value)).map(e=>e.valueArray()).flat())||void 0===e?void 0:e.length)||0},[lo]);(0,a.useEffect)(()=>{ll||(eS(la),ej(la>0))},[ll,la,ej,null==eu?void 0:eu.id,eS]),(0,s.K)(()=>{var e;ea&&eo&&(null==eH?void 0:null===(e=eH.image)||void 0===e?void 0:e.length)&&e$&&eR("search",eo,{keys:ec&&(null==ec?void 0:ec.length)?eN?eH.search:ec:eH.image,total:eV,sortedKeys:eH.image,parameters:ed}).then().catch()},[eo,ea,ec,null==eH?void 0:eH.image,e$,eV,ed,eN]),(0,a.useEffect)(()=>{ea&&eo&&(null==eu?void 0:eu.id)&&eR("topicview",eo,{topicId:eu.id,topicType:eu.entity_type,viewmode:ep?"storyboard":"search",topicTag:eu.tag}).then().catch()},[eo,ea,null==eu?void 0:eu.id,null==eu?void 0:eu.tag,null==eu?void 0:eu.entity_type,ep,eR]),(0,a.useEffect)(()=>{eB&&ea&&eX&&lt&&eR("feed",eo,{feed:"search_feed",action:"view",value:(null==eH?void 0:eH.image)||"",page:eX,total:eV||0}).then().catch()},[eo,ea,null==eH?void 0:eH.image,eX,eB,eV,lt,eR]);let[lr,ld]=a.useMemo(()=>{if(!(null==eu?void 0:eu.type)&&!(null==eu?void 0:eu.id))return[null,null];let e=(0,H.S)({widgets:eu.widgets,title:eu.title,title_long:eu.title_long},null,"title");return eu.published||(e="".concat(e," (unpublished)")),[e,eu.seo_description]},[null==eu?void 0:eu.id,null==eu?void 0:eu.published,null==eu?void 0:eu.seo_description,null==eu?void 0:eu.title_long,null==eu?void 0:eu.title,null==eu?void 0:eu.type,null==eu?void 0:eu.widgets]),lc=(0,a.useMemo)(()=>{if(eM||!(null==eu?void 0:eu.type))return!1;if("topic_group"===eu.type&&eu.show_new_button)return!0;if("topic"===eu.type){var e;let l=new U.Z(eI.path).getLastOfType("group");if((null==l?void 0:l.id)&&(null===(e=eu.widgets[l.id])||void 0===e?void 0:e.show_new_button))return!0}return!1},[eM,null==eu?void 0:eu.type,null==eu?void 0:eu.show_new_button,null==eu?void 0:eu.widgets,eI.path]),lu=(0,a.useMemo)(()=>{if(!eT||!ea||!eF.isReady||eg)return{visibility:et.A}},[eT,eg,ea,eF.isReady]),lh=(0,a.useMemo)(()=>{if(!ea||!eF.isReady||!eT||eg||eK&&(ez||lc))return{visibility:et.A}},[eT,ea,eg,eK,ez,lc,eF.isReady]);return(0,i.jsxs)(i.Fragment,{children:[ew&&!eM&&ea&&eF.isReady&&!ll&&!eu&&!eg&&(0,i.jsx)(R.Z,{sidebarState:eC}),(0,i.jsxs)("div",{className:"search-content",children:[(0,i.jsxs)(m.N4,{className:"results",style:lu,children:[(0,i.jsx)(u.Z,{searchEntity:eu,className:"search-wrapper",type:"elements_designs",onImageSearch:eM?ek:null}),!eN&&!e4&&!eu&&!eg&&!eM&&!ll&&(null==ec?void 0:ec.length)>0&&(0,i.jsxs)(m.N4,{className:"mobile-seo-description",translate:"no",children:[(0,i.jsx)(E.Z,{as:"h1",$family:"medium",$capitalize:!0,$fontSize:"32px",$textAlign:"center",children:ec}),(null==ex?void 0:ex.length)>0&&(0,i.jsx)(S.B,{blurbTitlePart:e_,blurb:ex})]}),eM&&(0,i.jsx)(_.Z,{}),!eM&&(!!eu||!eT||!eh)&&(0,i.jsx)(c.Z,{title:lr,seoDescription:ld,entity:eu,analyticsOrigin:"search_header"}),em&&!!eY&&(0,i.jsx)(G,{imageSrc:eY,imageAlt:eL,width:eU}),ll&&(null==eo?void 0:eo.plan_period)!==$.Ss.LIFETIME&&!eg&&!eu&&((null==eQ?void 0:eQ.length)||eK)&&!eM&&(!eo||(null==eo?void 0:eo.remaining_lifetime)>0)?(0,i.jsx)(z.Z,{remaining:null==eo?void 0:eo.remaining_lifetime}):null,eT&&!!eo&&e4&&(0,i.jsx)("div",{className:"spellcheck-result",translate:"no",children:(0,i.jsxs)(E.Z,{$family:"base",$fontSize:"16px",children:["No results".concat(eN?"":' for "'.concat((null==eB?void 0:null===(k=eB.spellcheck_result)||void 0===k?void 0:k.searched_key)||"",'"'),". Did you mean "),(0,i.jsx)(E.Z,{as:y.Z,$family:"medium",pathname:"/create/".concat(eM?"boost":"search","/").concat((null==eB?void 0:null===(C=eB.spellcheck_result)||void 0===C?void 0:C.suggested_key)||""),extra:"".concat(D.Z.COMMON.SORT,"=curated&").concat(D.Z.COMMON.PAGE,"=1"),children:(null==eB?void 0:null===(N=eB.spellcheck_result)||void 0===N?void 0:N.suggested_key)||""}),"?"]})}),!!eu&&eG&&!!(null==eo?void 0:null===(A=eo.access)||void 0===A?void 0:A.show_rawpixel_team)&&eT&&(0,i.jsx)(r.Z,{entity:eu}),!!eu&&(null==eu?void 0:null===(O=eu.assigned_artists)||void 0===O?void 0:O.length)>0&&(0,i.jsx)(p.Z,{className:"story-collaborators",children:eu.assigned_artists.map((e,l)=>{var t;return(0,i.jsx)(v.Z,{className:"story-collaborator",profile:e,showName:(null===(t=eu.assigned_artists)||void 0===t?void 0:t.length)===1},l)})}),!em&&(0,i.jsx)(w.Z,{topicEntity:eu,showSearchFilters:!0,defaultFilters:le&&B._v,showSidebarCollapseButton:!0,onSidebarCollapseClick:e5,isCollapsed:e2,hasStoryView:e8,isStoryMode:ep,storyId:null==eu?void 0:eu.story,currentTagsQuery:ed[D.Z.IMAGE.TAGS]||"",queries:ed,urlQueries:eI,pathname:"/".concat(eM?"boost":"search").concat((null==ec?void 0:ec.length)?"/".concat(encodeURIComponent(ec)):"")}),e8&&(0,i.jsx)(ei,{isStoryMode:ep,storyId:null==eu?void 0:eu.story}),!ep&&(!!(null==eQ?void 0:eQ.length)||eK)&&(0,i.jsx)(d.Z,{entity:eu,config:eM&&j.zT||!ll&&!!eu&&j.O6||j.Vs,images:eQ,showcasedImages:eE,analyticsSearchData:li,showCreateButton:lc,style:lh}),ep&&!!eq&&(0,i.jsx)(h.Z,{story:eq,storyId:parseInt(ed[D.Z.WEB.STORY],10),isSidebarCollapsed:e2,entity:eu}),lt&&!eM&&!(null==eQ?void 0:eQ.length)&&!eK&&(0,i.jsx)(i.Fragment,{children:ed[D.Z.COMMON.FLAGGED_BY]&&(null==eo?void 0:eo.uid)===0?(0,i.jsx)(f.Z,{type:"favorites-logged-out"}):(0,i.jsx)(f.Z,{type:"image",rawSearchTerm:eN?"":ec})}),eM&&lt&&!(null==eQ?void 0:eQ.length)&&!eK&&(0,i.jsx)(x.Z,{type:"pinterest-boost"}),(0,i.jsxs)("div",{className:"search-footer",children:[(0,i.jsx)(Z.Z,{page:eX,hideNext:eX*e1>=q.E7,pageSize:e1,disabled:eK,totalPages:e0,totalResults:eM?e7:eV,resultsSearch:e4?null==eB?void 0:null===(T=eB.spellcheck_result)||void 0===T?void 0:T.suggested_key:eN?"":ec,boost:eM&&!eK&&!!eV,pathname:"/".concat(eM?"boost":"search").concat(e4?"/".concat(encodeURIComponent(null==eB?void 0:null===(I=eB.spellcheck_result)||void 0===I?void 0:I.suggested_key)):(null==ec?void 0:ec.length)?"/".concat(encodeURIComponent(ec)):""),style:lu}),!ll&&(!em&&!!eV&&!eK||e8&&ep&&!!(null==eq?void 0:eq.story_items)&&(null==eq?void 0:null===(es=eq.story_items)||void 0===es?void 0:es.length)>0)&&(0,i.jsx)(w.Z,{topicEntity:eu,showSearchFilters:!1,hasStoryView:e8,isStoryMode:ep,storyId:null==eu?void 0:eu.story,currentTagsQuery:ed[D.Z.IMAGE.TAGS]||"",queries:ed,pathname:"/".concat(eM?"boost":"search").concat(e4?"/".concat(encodeURIComponent(null==eB?void 0:null===(en=eB.spellcheck_result)||void 0===en?void 0:en.suggested_key)):(null==ec?void 0:ec.length)?"/".concat(encodeURIComponent(ec)):"")}),ls&&lt&&!!eV&&!eN&&(0,i.jsx)("div",{className:"seo-description",children:(null==ex?void 0:ex.length)>0&&(0,i.jsxs)(E.Z,{as:"h1",children:[e_&&(0,i.jsx)(E.Z,{$family:"medium",children:e_}),ex]})}),ll&&!(null==eo?void 0:eo.premium)&&!K.y0.includes((null==eo?void 0:eo.rank)||"")&&!eg&&!eu&&(!!(null==eQ?void 0:eQ.length)||eK&&ez)&&!eM&&(0,i.jsx)(P.Z,{style:lh})]})]}),ll&&(0,i.jsx)(g.Z,{isCollapsed:e2,onCollapse:e5,sidebarState:eC,className:"search-sidebar",darkTheme:er}),!ll&&(0,i.jsx)(F.Z,{onClose:ln,open:eb,pathSidebarState:eC})]})]})}},98719:function(e,l,t){t.d(l,{S:function(){return g}});var i=t(85893),s=t(67294),n=t(41501),o=t(83130),a=t(74309),r=t(83047),d=t(869),c=t(86977),u=t(63727);let h=(e,l,t,i,s,n)=>({label:e,tag:l,key:t,searchOption:i,entity:s,...n}),g=function(e,l,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!e)return"";if("search_placeholder"===i&&l&&a.uw[l])return a.uw[l];if(l){let i=Object.keys(e.widgets).map(l=>e.widgets[l]).find(e=>{let{widget_tag:t}=e;return t===l});return(null==i?void 0:i.title)||t&&e[t]||e.title_long||e.title}return t&&e[t]||e.title_long||e.title};l.Z=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body",{queries:t,path:v}=(0,n.Z)(),p=v.startsWith("/create/search"),m=(0,s.useMemo)(()=>new d.Z(t[r.Z.WEB.PATH]),[t]),{filterGroups:y=[]}=(0,o.Z)(),{data:f}=(0,c.B2)(a.GP),x=(0,s.useMemo)(()=>{var e;return(null==f?void 0:null===(e=f.value)||void 0===e?void 0:e.themes)||[]},[f]),_=s.useMemo(()=>{if("header"===l)return[];let e=t[r.Z.IMAGE.TAGS]?t[r.Z.IMAGE.TAGS].split(",").filter(e=>e!==t.topic&&e!==t.topic_group):[];if(t[r.Z.WEB.PATH]){let l=[...m.getFilters("tag","tags_or","color","theme").map(e=>e.value),...m.getFilters("tags_or").map(e=>e.valueArray()).flat()];e.push(...l),m.getFilter("hearted")&&e.push(a.du)}return(t[r.Z.IMAGE.TAGS_OR]&&e.push(...t[r.Z.IMAGE.TAGS_OR].split(",")),t[r.Z.COMMON.FLAGGED_BY]&&e.push(a.du),e.length)?y.reduce((e,l)=>[...e,...l.filters],[]).map(l=>{if("sizes"===l.tag){let l=u.Z.find(l=>e.includes(l.tag));if(l)return{...l,published:!0}}return l}).filter(l=>l.published&&(e.includes(l.tag)||"sizes"===l.tag&&u.Z.some(l=>e.includes(l.tag)))):[]},[y,t,l,m]);return s.useMemo(()=>{let s=[];if(e){let l=g(e,null,null,"search_placeholder");s.push(h(l,e.tag,"".concat(e.type,"-").concat(e.tag),p?1:0,e))}_.length&&_.forEach(e=>{s.push(h(e.name,e.tag,"".concat(e.name,"-").concat(e.tag),p?1:0,null,{filter:!0}))});let n=t[r.Z.IMAGE.TAGS]?t[r.Z.IMAGE.TAGS].split(",").filter(e=>e!==t.topic&&e!==t.topic_group):[];if("header"!==l){var o;let e=t[r.Z.IMAGE.COLOR]||(null===(o=m.getFilter("color"))||void 0===o?void 0:o.value);if(null==e?void 0:e.length)s.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:e}}),"Color"]}),null,"colorTag-"+e.replace("#",""),p?1:0,null,{filter:!0}));else if(x.length>0&&(null==n?void 0:n.length)>0&&x.some(e=>n.includes(e.tag))){let e=x.find(e=>n.includes(e.tag)),l=e.icon_url;(null==l?void 0:l.length)&&s.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:"url(".concat(l,")")}}),"Color"]}),e.tag,"theme-color-".concat(l,"-").concat(e.tag),0,null,{filter:!0}))}else if(m.getFilter("theme")){let e=m.getFilter("theme"),l=x.find(l=>l.tag===e.value).icon_url;(null==l?void 0:l.length)&&s.push(h((0,i.jsxs)("div",{className:"color-tag",children:[(0,i.jsx)("span",{style:{background:"url(".concat(l,")")}}),"Color"]}),e.value,"theme-color-".concat(l,"-").concat(e.value),0,null,{filter:!0}))}}return{placeholders:{},searchTags:s.filter((e,l,t)=>{if(t.findIndex(l=>l.tag===e.tag)===l)return!0}).slice(0,20)}},[e,_,t,l,p,m,x])}}}]);